# WanGo API 文档


**简介**:WanGo API 文档


**HOST**:http://localhost:8080/api


**联系人**:WanGo


**Version**:v1.0


**接口路径**:/api/v3/api-docs/v1.0


[TOC]






# CuraEngine通信


## 上传切片结果


**接口地址**:`/api/curaengine/slice/upload-result`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>上传切片完成的GCode文件到MinIO，并清理临时文件</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|taskId||query|true|string||
|gcodeFilePath||query|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultSliceResultResponse|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||SliceResultResponse|SliceResultResponse|
|&emsp;&emsp;taskId||string||
|&emsp;&emsp;gcodeUrl||string||
|&emsp;&emsp;success||boolean||
|&emsp;&emsp;message||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"taskId": "",
		"gcodeUrl": "",
		"success": true,
		"message": ""
	}
}
```


## 发布切片任务


**接口地址**:`/api/curaengine/slice/task`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:<p>向CuraEngine客户端发布切片任务（自动下载模型文件到临时目录）</p>



**请求示例**:


```javascript
{
  "taskId": "task-123456",
  "modelFileUrl": "http://example.com/model.stl",
  "outputGcodePath": "output.gcode",
  "layerHeight": 0.2,
  "infillDensity": 20,
  "printTemperature": 200,
  "bedTemperature": 60,
  "printSpeed": 50,
  "printerConfig": "fdmprinter.json",
  "extraParams": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|sliceTaskDTO|CuraEngine切片任务请求参数|body|true|SliceTaskDTO|SliceTaskDTO|
|&emsp;&emsp;taskId|任务ID（用于追踪任务，如果不提供则自动生成）||false|string||
|&emsp;&emsp;modelFileUrl|模型文件URL或路径（必需，支持HTTP/HTTPS URL或本地文件路径）||true|string||
|&emsp;&emsp;outputGcodePath|输出GCode文件路径（可选）||false|string||
|&emsp;&emsp;layerHeight|层高（mm，可选）||false|number(double)||
|&emsp;&emsp;infillDensity|填充密度（百分比，0-100，可选）||false|integer(int32)||
|&emsp;&emsp;printTemperature|打印温度（摄氏度，可选）||false|integer(int32)||
|&emsp;&emsp;bedTemperature|热床温度（摄氏度，可选）||false|integer(int32)||
|&emsp;&emsp;printSpeed|打印速度（mm/s，可选）||false|integer(int32)||
|&emsp;&emsp;printerConfig|打印机配置文件（可选）||false|string||
|&emsp;&emsp;extraParams|其他切片参数（JSON格式字符串，用于传递额外的参数）||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultSliceTaskResponse|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||SliceTaskResponse|SliceTaskResponse|
|&emsp;&emsp;taskId||string||
|&emsp;&emsp;success||boolean||
|&emsp;&emsp;message||string||
|&emsp;&emsp;localModelPath||string||
|&emsp;&emsp;expectedOutputPath||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"taskId": "",
		"success": true,
		"message": "",
		"localModelPath": "",
		"expectedOutputPath": ""
	}
}
```


## 执行切片任务（命令行方式）


**接口地址**:`/api/curaengine/slice/command`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:<p>通过命令行方式执行CuraEngine切片任务</p>



**请求示例**:


```javascript
{
  "taskId": "task-123456",
  "modelFileUrl": "http://example.com/model.stl",
  "outputGcodePath": "output.gcode",
  "layerHeight": 0.2,
  "infillDensity": 20,
  "printTemperature": 200,
  "bedTemperature": 60,
  "printSpeed": 50,
  "printerConfig": "fdmprinter.json",
  "extraParams": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|sliceTaskDTO|CuraEngine切片任务请求参数|body|true|SliceTaskDTO|SliceTaskDTO|
|&emsp;&emsp;taskId|任务ID（用于追踪任务，如果不提供则自动生成）||false|string||
|&emsp;&emsp;modelFileUrl|模型文件URL或路径（必需，支持HTTP/HTTPS URL或本地文件路径）||true|string||
|&emsp;&emsp;outputGcodePath|输出GCode文件路径（可选）||false|string||
|&emsp;&emsp;layerHeight|层高（mm，可选）||false|number(double)||
|&emsp;&emsp;infillDensity|填充密度（百分比，0-100，可选）||false|integer(int32)||
|&emsp;&emsp;printTemperature|打印温度（摄氏度，可选）||false|integer(int32)||
|&emsp;&emsp;bedTemperature|热床温度（摄氏度，可选）||false|integer(int32)||
|&emsp;&emsp;printSpeed|打印速度（mm/s，可选）||false|integer(int32)||
|&emsp;&emsp;printerConfig|打印机配置文件（可选）||false|string||
|&emsp;&emsp;extraParams|其他切片参数（JSON格式字符串，用于传递额外的参数）||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultSliceCommandResponse|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||SliceCommandResponse|SliceCommandResponse|
|&emsp;&emsp;taskId||string||
|&emsp;&emsp;success||boolean||
|&emsp;&emsp;message||string||
|&emsp;&emsp;outputGcodePath||string||
|&emsp;&emsp;gcodeUrl||string||
|&emsp;&emsp;exitCode||integer(int32)||
|&emsp;&emsp;stdout||string||
|&emsp;&emsp;stderr||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"taskId": "",
		"success": true,
		"message": "",
		"outputGcodePath": "",
		"gcodeUrl": "",
		"exitCode": 0,
		"stdout": "",
		"stderr": ""
	}
}
```


## 清理临时文件


**接口地址**:`/api/curaengine/slice/cleanup`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>清理指定任务的临时文件</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|taskId||query|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultVoid|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## 停止Socket服务器


**接口地址**:`/api/curaengine/server/stop`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>停止Socket服务器</p>



**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultVoid|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## 启动Socket服务器


**接口地址**:`/api/curaengine/server/start`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>启动Socket服务器，等待CuraEngine客户端连接</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|port||query|false|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultBoolean|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||boolean||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": true
}
```


## 发送消息


**接口地址**:`/api/curaengine/message/send`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>向CuraEngine客户端发送消息</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|message||query|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultBoolean|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||boolean||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": true
}
```


## 接收消息


**接口地址**:`/api/curaengine/message/receive`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>从CuraEngine客户端接收消息（阻塞调用）</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|timeout||query|false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": ""
}
```


## 获取服务器状态


**接口地址**:`/api/curaengine/server/status`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>获取Socket服务器的运行状态和端口信息</p>



**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultServerStatus|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||ServerStatus|ServerStatus|
|&emsp;&emsp;connected||boolean||
|&emsp;&emsp;port||integer(int32)||
|&emsp;&emsp;receivedMessageCount||integer(int64)||
|&emsp;&emsp;sentMessageCount||integer(int64)||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"connected": true,
		"port": 0,
		"receivedMessageCount": 0,
		"sentMessageCount": 0
	}
}
```


# 混元3D模型生成


## 文生模型


**接口地址**:`/api/hunyuan3d/text-to-model`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>通过文本提示词生成3D模型</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|prompt||query|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultHunyuan3DSubmitResponseDTO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||Hunyuan3DSubmitResponseDTO|Hunyuan3DSubmitResponseDTO|
|&emsp;&emsp;taskId||string||
|&emsp;&emsp;code||integer(int32)||
|&emsp;&emsp;message||string||
|&emsp;&emsp;success||boolean||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"taskId": "",
		"code": 0,
		"message": "",
		"success": true
	}
}
```


## 图生模型


**接口地址**:`/api/hunyuan3d/image-to-model`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,multipart/form-data`


**响应数据类型**:`*/*`


**接口描述**:<p>通过上传的图片生成3D模型</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|image||query|true|file||
|prompt||query|false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultHunyuan3DSubmitResponseDTO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||Hunyuan3DSubmitResponseDTO|Hunyuan3DSubmitResponseDTO|
|&emsp;&emsp;taskId||string||
|&emsp;&emsp;code||integer(int32)||
|&emsp;&emsp;message||string||
|&emsp;&emsp;success||boolean||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"taskId": "",
		"code": 0,
		"message": "",
		"success": true
	}
}
```


## 查询3D模型生成任务状态


**接口地址**:`/api/hunyuan3d/query/{taskId}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>根据taskId查询任务状态和结果</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|taskId||path|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultHunyuan3DQueryResponseDTO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||Hunyuan3DQueryResponseDTO|Hunyuan3DQueryResponseDTO|
|&emsp;&emsp;taskId||string||
|&emsp;&emsp;status||string||
|&emsp;&emsp;code||integer(int32)||
|&emsp;&emsp;message||string||
|&emsp;&emsp;modelUrl||string||
|&emsp;&emsp;modelBase64||string||
|&emsp;&emsp;progress||integer(int32)||
|&emsp;&emsp;error||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"taskId": "",
		"status": "",
		"code": 0,
		"message": "",
		"modelUrl": "",
		"modelBase64": "",
		"progress": 0,
		"error": ""
	}
}
```


# 用户管理


## updateUserInfo


**接口地址**:`/api/users/updateUserInfo`


**请求方式**:`PUT`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "username": "",
  "avatarUrl": "",
  "email": "",
  "birthday": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|userInfoDTO|UserInfoDTO|body|true|UserInfoDTO|UserInfoDTO|
|&emsp;&emsp;username|||false|string||
|&emsp;&emsp;avatarUrl|||false|string||
|&emsp;&emsp;email|||false|string||
|&emsp;&emsp;birthday|||false|string(date)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultVoid|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## updateUserStatus


**接口地址**:`/api/users/status/{userId}`


**请求方式**:`PUT`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|userId||path|true|string||
|accountStatus||query|true|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultVoid|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## thirdPartyLogin


**接口地址**:`/api/users/thirdPartyLogin`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "platform": "",
  "code": "",
  "openId": "",
  "accessToken": "",
  "unionId": "",
  "nickname": "",
  "avatarUrl": "",
  "email": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|thirdPartyLoginDTO|第三方登录请求参数|body|true|ThirdPartyLoginDTO|ThirdPartyLoginDTO|
|&emsp;&emsp;platform|第三方平台类型：wechat-微信，qq-QQ，alipay-支付宝，apple-Apple，google-Google||true|string||
|&emsp;&emsp;code|第三方授权码（Web模式必填，APP SDK模式可选）||false|string||
|&emsp;&emsp;openId|第三方平台用户唯一ID（APP SDK模式必填）||false|string||
|&emsp;&emsp;accessToken|访问令牌（APP SDK模式可选，用于验证）||false|string||
|&emsp;&emsp;unionId|统一ID（可选，如微信的unionId）||false|string||
|&emsp;&emsp;nickname|用户昵称（可选）||false|string||
|&emsp;&emsp;avatarUrl|用户头像URL（可选）||false|string||
|&emsp;&emsp;email|用户邮箱（可选，如Google登录）||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultUserLoginVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||UserLoginVO|UserLoginVO|
|&emsp;&emsp;userId||string||
|&emsp;&emsp;username||string||
|&emsp;&emsp;avatarUrl||string||
|&emsp;&emsp;accountStatus||integer(int32)||
|&emsp;&emsp;token||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"userId": "",
		"username": "",
		"avatarUrl": "",
		"accountStatus": 0,
		"token": ""
	}
}
```


## sendVerificationCode


**接口地址**:`/api/users/sendVerificationCode`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "email": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|sendVerificationCodeDTO|SendVerificationCodeDTO|body|true|SendVerificationCodeDTO|SendVerificationCodeDTO|
|&emsp;&emsp;email|||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultVoid|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## register


**接口地址**:`/api/users/register`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "email": "",
  "password": "",
  "confirmPassword": "",
  "username": "",
  "birthday": "",
  "countryCode": "",
  "privacyAgreed": true,
  "marketingOptIn": true,
  "verificationCode": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|userRegisterDTO|UserRegisterDTO|body|true|UserRegisterDTO|UserRegisterDTO|
|&emsp;&emsp;email|||false|string||
|&emsp;&emsp;password|||false|string||
|&emsp;&emsp;confirmPassword|||false|string||
|&emsp;&emsp;username|||false|string||
|&emsp;&emsp;birthday|||false|string(date)||
|&emsp;&emsp;countryCode|||false|string||
|&emsp;&emsp;privacyAgreed|||false|boolean||
|&emsp;&emsp;marketingOptIn|||false|boolean||
|&emsp;&emsp;verificationCode|||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultUserLoginVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||UserLoginVO|UserLoginVO|
|&emsp;&emsp;userId||string||
|&emsp;&emsp;username||string||
|&emsp;&emsp;avatarUrl||string||
|&emsp;&emsp;accountStatus||integer(int32)||
|&emsp;&emsp;token||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"userId": "",
		"username": "",
		"avatarUrl": "",
		"accountStatus": 0,
		"token": ""
	}
}
```


## login


**接口地址**:`/api/users/login`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "email": "",
  "password": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|userLoginDTO|UserLoginDTO|body|true|UserLoginDTO|UserLoginDTO|
|&emsp;&emsp;email|||false|string||
|&emsp;&emsp;password|||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultUserLoginVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||UserLoginVO|UserLoginVO|
|&emsp;&emsp;userId||string||
|&emsp;&emsp;username||string||
|&emsp;&emsp;avatarUrl||string||
|&emsp;&emsp;accountStatus||integer(int32)||
|&emsp;&emsp;token||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"userId": "",
		"username": "",
		"avatarUrl": "",
		"accountStatus": 0,
		"token": ""
	}
}
```


## loginByCode


**接口地址**:`/api/users/loginByCode`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "email": "",
  "verificationCode": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|userLoginByCodeDTO|UserLoginByCodeDTO|body|true|UserLoginByCodeDTO|UserLoginByCodeDTO|
|&emsp;&emsp;email|||false|string||
|&emsp;&emsp;verificationCode|||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultUserLoginVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||UserLoginVO|UserLoginVO|
|&emsp;&emsp;userId||string||
|&emsp;&emsp;username||string||
|&emsp;&emsp;avatarUrl||string||
|&emsp;&emsp;accountStatus||integer(int32)||
|&emsp;&emsp;token||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"userId": "",
		"username": "",
		"avatarUrl": "",
		"accountStatus": 0,
		"token": ""
	}
}
```


## createUser


**接口地址**:`/api/users/create`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "email": "",
  "password": "",
  "username": "",
  "avatarUrl": "",
  "birthday": "",
  "countryCode": "",
  "accountStatus": 0,
  "privacyAgreed": true,
  "marketingOptIn": true
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|userCreateDTO|用户创建请求参数|body|true|UserCreateDTO|UserCreateDTO|
|&emsp;&emsp;email|邮箱地址（必填）||true|string||
|&emsp;&emsp;password|密码（必填）||true|string||
|&emsp;&emsp;username|用户名（可选）||false|string||
|&emsp;&emsp;avatarUrl|头像URL（可选）||false|string||
|&emsp;&emsp;birthday|生日（可选）||false|string(date)||
|&emsp;&emsp;countryCode|国家代码（可选）||false|string||
|&emsp;&emsp;accountStatus|账户状态：1-正常，0-封禁（默认1）||false|integer(int32)||
|&emsp;&emsp;privacyAgreed|是否同意隐私协议（默认false）||false|boolean||
|&emsp;&emsp;marketingOptIn|是否同意营销推送（默认false）||false|boolean||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultUserInfoVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||UserInfoVO|UserInfoVO|
|&emsp;&emsp;username||string||
|&emsp;&emsp;avatarUrl||string||
|&emsp;&emsp;email||string||
|&emsp;&emsp;birthday||string(date)||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"username": "",
		"avatarUrl": "",
		"email": "",
		"birthday": ""
	}
}
```


## getUserPage


**接口地址**:`/api/users/page`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|current||query|false|integer(int64)||
|size||query|false|integer(int64)||
|username||query|false|string||
|email||query|false|string||
|accountStatus||query|false|integer(int32)||
|sort||query|false|string||
|order||query|false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultIPageUserListVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||IPageUserListVO|IPageUserListVO|
|&emsp;&emsp;size||integer(int64)||
|&emsp;&emsp;current||integer(int64)||
|&emsp;&emsp;records|用户列表视图对象|array|UserListVO|
|&emsp;&emsp;&emsp;&emsp;userId|用户ID|string||
|&emsp;&emsp;&emsp;&emsp;email|邮箱地址|string||
|&emsp;&emsp;&emsp;&emsp;username|用户名|string||
|&emsp;&emsp;&emsp;&emsp;avatarUrl|头像URL|string||
|&emsp;&emsp;&emsp;&emsp;birthday|生日|string||
|&emsp;&emsp;&emsp;&emsp;countryCode|国家代码|string||
|&emsp;&emsp;&emsp;&emsp;createTime|创建时间|string||
|&emsp;&emsp;&emsp;&emsp;lastLoginIp|最后登录IP地址|string||
|&emsp;&emsp;&emsp;&emsp;accountStatus|账户状态：1-正常，0-封禁|integer||
|&emsp;&emsp;&emsp;&emsp;privacyAgreed|是否同意隐私协议|boolean||
|&emsp;&emsp;&emsp;&emsp;marketingOptIn|是否同意营销推送|boolean||
|&emsp;&emsp;total||integer(int64)||
|&emsp;&emsp;pages||integer(int64)||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"size": 0,
		"current": 0,
		"records": [
			{
				"userId": "",
				"email": "",
				"username": "",
				"avatarUrl": "",
				"birthday": "",
				"countryCode": "",
				"createTime": "",
				"lastLoginIp": "",
				"accountStatus": 0,
				"privacyAgreed": true,
				"marketingOptIn": true
			}
		],
		"total": 0,
		"pages": 0
	}
}
```


## logout


**接口地址**:`/api/users/logout`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultVoid|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## getUserInfo


**接口地址**:`/api/users/getUserInfo/{id}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id||path|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultUserInfoVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||UserInfoVO|UserInfoVO|
|&emsp;&emsp;username||string||
|&emsp;&emsp;avatarUrl||string||
|&emsp;&emsp;email||string||
|&emsp;&emsp;birthday||string(date)||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"username": "",
		"avatarUrl": "",
		"email": "",
		"birthday": ""
	}
}
```


## deleteUser


**接口地址**:`/api/users/deleteUser/{id}`


**请求方式**:`DELETE`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id||path|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultVoid|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## deleteUsers


**接口地址**:`/api/users/batch`


**请求方式**:`DELETE`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
[]
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|strings|string|body|true|array||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultVoid|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


# 用户收藏模型管理


## add


**接口地址**:`/api/user-model-favorite/add`


**请求方式**:`PUT`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|modelId||query|true|string||
|groupId||query|false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": ""
}
```


## cancel


**接口地址**:`/api/user-model-favorite/cancel`


**请求方式**:`DELETE`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|modelId||query|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": ""
}
```


# 设备管理


## 更新设备信息


**接口地址**:`/api/devices/update`


**请求方式**:`PUT`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:<p>更新设备的基本信息</p>



**请求示例**:


```javascript
{
  "deviceId": "",
  "deviceName": "",
  "productId": "",
  "snCode": "",
  "deviceStatus": 0,
  "firmwareVersion": "",
  "remark": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|deviceUpdateDTO|设备更新请求参数|body|true|DeviceUpdateDTO|DeviceUpdateDTO|
|&emsp;&emsp;deviceId|设备ID（必填）||true|string||
|&emsp;&emsp;deviceName|设备名称（可选）||false|string||
|&emsp;&emsp;productId|产品ID（可选）||false|string||
|&emsp;&emsp;snCode|SN码（可选）||false|string||
|&emsp;&emsp;deviceStatus|设备状态：0-未注册，1-已注册（可选）||false|integer(int32)||
|&emsp;&emsp;firmwareVersion|固件版本（可选）||false|string||
|&emsp;&emsp;remark|备注（可选）||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultVoid|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## 更新设备状态


**接口地址**:`/api/devices/status/{deviceId}`


**请求方式**:`PUT`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>更新设备的注册状态</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|deviceId||path|true|string||
|deviceStatus||query|true|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultVoid|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## 解析SN码


**接口地址**:`/api/devices/parseSnCode`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:<p>解析SN码并写入数据库</p>



**请求示例**:


```javascript
{
  "snCode": "XXXXXXXXXXXX"
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|sN码解析请求|接收前端传递的SN码数据|body|true|SN码解析请求|SN码解析请求|
|&emsp;&emsp;snCode|SN码||true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultVoid|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## 设置默认设备


**接口地址**:`/api/devices/default/{deviceId}`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>将指定设备设置为当前用户的默认设备</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|deviceId||path|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultVoid|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## 创建设备


**接口地址**:`/api/devices/create`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:<p>管理员创建设备</p>



**请求示例**:


```javascript
{
  "deviceId": "",
  "userId": "",
  "productId": "",
  "snCode": "",
  "deviceName": "",
  "deviceStatus": 0,
  "firmwareVersion": "",
  "remark": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|deviceCreateDTO|设备创建请求参数|body|true|DeviceCreateDTO|DeviceCreateDTO|
|&emsp;&emsp;deviceId|设备ID（MAC地址，必填）||true|string||
|&emsp;&emsp;userId|用户ID（必填）||true|string||
|&emsp;&emsp;productId|产品ID（可选）||false|string||
|&emsp;&emsp;snCode|SN码（可选）||false|string||
|&emsp;&emsp;deviceName|设备名称（可选）||false|string||
|&emsp;&emsp;deviceStatus|设备状态：0-未注册，1-已注册（默认0）||false|integer(int32)||
|&emsp;&emsp;firmwareVersion|固件版本（可选）||false|string||
|&emsp;&emsp;remark|备注（可选）||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultDeviceListVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||DeviceListVO|DeviceListVO|
|&emsp;&emsp;deviceId|设备ID（MAC地址）|string||
|&emsp;&emsp;userId|用户ID|string||
|&emsp;&emsp;productId|产品ID|string||
|&emsp;&emsp;snCode|SN码|string||
|&emsp;&emsp;deviceName|设备名称|string||
|&emsp;&emsp;bindTime|绑定时间|string(date-time)||
|&emsp;&emsp;deviceStatus|设备状态：0-未注册，1-已注册|integer(int32)||
|&emsp;&emsp;firmwareVersion|固件版本|string||
|&emsp;&emsp;lastIp|最近上线IP|string||
|&emsp;&emsp;remark|备注|string||
|&emsp;&emsp;createdAt|创建时间|string(date-time)||
|&emsp;&emsp;updatedAt|更新时间|string(date-time)||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"deviceId": "",
		"userId": "",
		"productId": "",
		"snCode": "",
		"deviceName": "",
		"bindTime": "",
		"deviceStatus": 0,
		"firmwareVersion": "",
		"lastIp": "",
		"remark": "",
		"createdAt": "",
		"updatedAt": ""
	}
}
```


## 绑定设备


**接口地址**:`/api/devices/bind`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:<p>通过SN码/设备ID绑定设备并解析SN码</p>



**请求示例**:


```javascript
{
  "deviceId": "00:11:22:33:44:55",
  "snCode": "XXXXXXXXXXXX"
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|设备绑定请求|接收前端传递的设备绑定数据|body|true|设备绑定请求|设备绑定请求|
|&emsp;&emsp;deviceId|设备ID（MAC地址）||true|string||
|&emsp;&emsp;snCode|SN码（可选）||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": ""
}
```


## 分页查询设备列表


**接口地址**:`/api/devices/page`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>支持多条件查询和分页</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|current||query|false|integer(int64)||
|size||query|false|integer(int64)||
|userId||query|false|string||
|deviceId||query|false|string||
|deviceName||query|false|string||
|snCode||query|false|string||
|productId||query|false|string||
|deviceStatus||query|false|integer(int32)||
|sort||query|false|string||
|order||query|false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultIPageDeviceListVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||IPageDeviceListVO|IPageDeviceListVO|
|&emsp;&emsp;size||integer(int64)||
|&emsp;&emsp;current||integer(int64)||
|&emsp;&emsp;records|设备列表视图对象|array|DeviceListVO|
|&emsp;&emsp;&emsp;&emsp;deviceId|设备ID（MAC地址）|string||
|&emsp;&emsp;&emsp;&emsp;userId|用户ID|string||
|&emsp;&emsp;&emsp;&emsp;productId|产品ID|string||
|&emsp;&emsp;&emsp;&emsp;snCode|SN码|string||
|&emsp;&emsp;&emsp;&emsp;deviceName|设备名称|string||
|&emsp;&emsp;&emsp;&emsp;bindTime|绑定时间|string||
|&emsp;&emsp;&emsp;&emsp;deviceStatus|设备状态：0-未注册，1-已注册|integer||
|&emsp;&emsp;&emsp;&emsp;firmwareVersion|固件版本|string||
|&emsp;&emsp;&emsp;&emsp;lastIp|最近上线IP|string||
|&emsp;&emsp;&emsp;&emsp;remark|备注|string||
|&emsp;&emsp;&emsp;&emsp;createdAt|创建时间|string||
|&emsp;&emsp;&emsp;&emsp;updatedAt|更新时间|string||
|&emsp;&emsp;total||integer(int64)||
|&emsp;&emsp;pages||integer(int64)||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"size": 0,
		"current": 0,
		"records": [
			{
				"deviceId": "",
				"userId": "",
				"productId": "",
				"snCode": "",
				"deviceName": "",
				"bindTime": "",
				"deviceStatus": 0,
				"firmwareVersion": "",
				"lastIp": "",
				"remark": "",
				"createdAt": "",
				"updatedAt": ""
			}
		],
		"total": 0,
		"pages": 0
	}
}
```


## 获取设备详细信息


**接口地址**:`/api/devices/info/{deviceId}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>根据设备ID获取设备详细信息，包括设备基本信息和设备状态信息。用户ID从Token中获取</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|deviceId||path|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result设备详细信息|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||设备详细信息|设备详细信息|
|&emsp;&emsp;deviceId|设备ID（MAC地址）|string||
|&emsp;&emsp;deviceName|设备名称|string||
|&emsp;&emsp;userId|用户ID|string||
|&emsp;&emsp;productId|产品ID|string||
|&emsp;&emsp;snCode|SN码|string||
|&emsp;&emsp;bindTime|绑定时间|string(date-time)||
|&emsp;&emsp;deviceStatus|设备状态：0-未注册，1-已注册|integer(int32)||
|&emsp;&emsp;printState|打印状态|string||
|&emsp;&emsp;tfState|TF卡状态|string||
|&emsp;&emsp;toolheadX|工具头X坐标|number(double)||
|&emsp;&emsp;toolheadY|工具头Y坐标|number(double)||
|&emsp;&emsp;toolheadZ|工具头Z坐标|number(double)||
|&emsp;&emsp;toolheadE|工具头E坐标（挤出机）|number(double)||
|&emsp;&emsp;extruderTemperature|喷头温度（摄氏度）|number(double)||
|&emsp;&emsp;extruderTarget|目标温度（摄氏度）|number(double)||
|&emsp;&emsp;virtualSdcardProgress|Gcode文件进度（0.0-1.0）|number(double)||
|&emsp;&emsp;virtualSdcardFilePosition|当前文件位置（字节）|integer(int64)||
|&emsp;&emsp;printStatsTotalDuration|打印总时间（秒）|number(double)||
|&emsp;&emsp;printStatsPrintDuration|打印时长（秒）|number(double)||
|&emsp;&emsp;printStatsFilamentUsed|耗材使用量（毫米）|number(double)||
|&emsp;&emsp;printStatsState|打印状态|string||
|&emsp;&emsp;fanSpeed|风扇速率百分比（0.0-100.0）|number(double)||
|&emsp;&emsp;statusCreateTime|状态创建时间（设备上报时间）|string(date-time)||
|&emsp;&emsp;statusUpdateTime|状态更新时间|string(date-time)||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"deviceId": "",
		"deviceName": "",
		"userId": "",
		"productId": "",
		"snCode": "",
		"bindTime": "",
		"deviceStatus": 0,
		"printState": "",
		"tfState": "",
		"toolheadX": 0,
		"toolheadY": 0,
		"toolheadZ": 0,
		"toolheadE": 0,
		"extruderTemperature": 0,
		"extruderTarget": 0,
		"virtualSdcardProgress": 0,
		"virtualSdcardFilePosition": 0,
		"printStatsTotalDuration": 0,
		"printStatsPrintDuration": 0,
		"printStatsFilamentUsed": 0,
		"printStatsState": "",
		"fanSpeed": 0,
		"statusCreateTime": "",
		"statusUpdateTime": ""
	}
}
```


## getUserDevice


**接口地址**:`/api/devices/getUserDevice/{userId}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|userId||path|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultListDevicesInfoVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||array|DevicesInfoVO|
|&emsp;&emsp;deviceName|设备名称|string||
|&emsp;&emsp;deviceId|设备ID|string||
|&emsp;&emsp;bindTime|绑定时间|string(date-time)||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": [
		{
			"deviceName": "",
			"deviceId": "",
			"bindTime": ""
		}
	]
}
```


## 获取默认设备


**接口地址**:`/api/devices/default`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>获取当前用户的默认设备信息</p>



**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultDevicesInfoVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||DevicesInfoVO|DevicesInfoVO|
|&emsp;&emsp;deviceName|设备名称|string||
|&emsp;&emsp;deviceId|设备ID|string||
|&emsp;&emsp;bindTime|绑定时间|string(date-time)||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"deviceName": "",
		"deviceId": "",
		"bindTime": ""
	}
}
```


## 删除设备


**接口地址**:`/api/devices/delete/{deviceId}`


**请求方式**:`DELETE`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>根据设备ID删除设备</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|deviceId||path|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultVoid|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## 批量删除设备


**接口地址**:`/api/devices/batch`


**请求方式**:`DELETE`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:<p>根据设备ID列表批量删除设备</p>



**请求示例**:


```javascript
[]
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|strings|string|body|true|array||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultVoid|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


# 文件上传管理


## 上传图片文件


**接口地址**:`/api/upload/image`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,multipart/form-data`


**响应数据类型**:`*/*`


**接口描述**:<p>上传图片文件到MinIO，自动保存到image/路径</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|file||query|true|file||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultMapStringString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## 上传GCode文件


**接口地址**:`/api/upload/gcode`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,multipart/form-data`


**响应数据类型**:`*/*`


**接口描述**:<p>上传GCode文件或STL文件到MinIO，自动保存到gcode/路径</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|file||query|true|file||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultMapStringString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## 通过文件名获取GCode文件下载URL


**接口地址**:`/api/upload/gcode/{filename}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>从models表中查询对应文件的download_url</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|filename||path|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultMapStringString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## 获取GCode文件下载URL


**接口地址**:`/api/upload/gcode/download`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>通过文件URL或文件路径生成预签名下载URL，有效期1小时</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|fileUrl||query|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultMapStringString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


# 文生图


## 同步生成图片


**接口地址**:`/api/text2img/sync`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:<p>根据文本描述同步生成图片，返回图片结果列表</p>



**请求示例**:


```javascript
{
  "prompt": "",
  "negativePrompt": "",
  "n": 0,
  "size": "",
  "style": "",
  "quality": "",
  "responseFormat": "",
  "composition": "",
  "lighting": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|text2ImgRequest|Text2ImgRequest|body|true|Text2ImgRequest|Text2ImgRequest|
|&emsp;&emsp;prompt|||true|string||
|&emsp;&emsp;negativePrompt|||false|string||
|&emsp;&emsp;n|||false|integer(int32)||
|&emsp;&emsp;size|||false|string||
|&emsp;&emsp;style|||false|string||
|&emsp;&emsp;quality|||false|string||
|&emsp;&emsp;responseFormat|||false|string||
|&emsp;&emsp;composition|||false|string||
|&emsp;&emsp;lighting|||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultText2ImgSyncVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||Text2ImgSyncVO|Text2ImgSyncVO|
|&emsp;&emsp;images||array|string|


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"images": []
	}
}
```


## 查询异步任务结果


**接口地址**:`/api/text2img/query`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:<p>根据任务ID查询异步图片生成任务的结果</p>



**请求示例**:


```javascript
{
  "taskId": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|text2ImgTaskQueryDTO|Text2ImgTaskQueryDTO|body|true|Text2ImgTaskQueryDTO|Text2ImgTaskQueryDTO|
|&emsp;&emsp;taskId|||true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultText2ImgAsyncResultVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||Text2ImgAsyncResultVO|Text2ImgAsyncResultVO|
|&emsp;&emsp;taskId||string||
|&emsp;&emsp;status||string||
|&emsp;&emsp;images||array|string|


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"taskId": "",
		"status": "",
		"images": []
	}
}
```


## 异步生成图片


**接口地址**:`/api/text2img/async`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:<p>创建异步图片生成任务，返回任务ID</p>



**请求示例**:


```javascript
{
  "prompt": "",
  "negativePrompt": "",
  "n": 0,
  "size": "",
  "style": "",
  "quality": "",
  "responseFormat": "",
  "composition": "",
  "lighting": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|text2ImgRequest|Text2ImgRequest|body|true|Text2ImgRequest|Text2ImgRequest|
|&emsp;&emsp;prompt|||true|string||
|&emsp;&emsp;negativePrompt|||false|string||
|&emsp;&emsp;n|||false|integer(int32)||
|&emsp;&emsp;size|||false|string||
|&emsp;&emsp;style|||false|string||
|&emsp;&emsp;quality|||false|string||
|&emsp;&emsp;responseFormat|||false|string||
|&emsp;&emsp;composition|||false|string||
|&emsp;&emsp;lighting|||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultText2ImgAsyncCreateVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||Text2ImgAsyncCreateVO|Text2ImgAsyncCreateVO|
|&emsp;&emsp;taskId||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"taskId": ""
	}
}
```


# session-controller


## createSession


**接口地址**:`/api/session`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|n||query|false|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultSessionVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||SessionVO|SessionVO|
|&emsp;&emsp;sessionId||string||
|&emsp;&emsp;title||string||
|&emsp;&emsp;describe||string||
|&emsp;&emsp;examples||array|Example|
|&emsp;&emsp;&emsp;&emsp;title||string||
|&emsp;&emsp;&emsp;&emsp;describe||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"sessionId": "",
		"title": "",
		"describe": "",
		"examples": [
			{
				"title": "",
				"describe": ""
			}
		]
	}
}
```


## hotExamples


**接口地址**:`/api/session/hot`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|n||query|false|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultListExample|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||array|Example|
|&emsp;&emsp;title||string||
|&emsp;&emsp;describe||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": [
		{
			"title": "",
			"describe": ""
		}
	]
}
```


## queryBySessionId


**接口地址**:`/api/session/{sessionId}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|sessionId||path|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultListMessageVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||array|MessageVO|
|&emsp;&emsp;type|可用值:USER,ASSISTANT|string||
|&emsp;&emsp;content||string||
|&emsp;&emsp;params||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": [
		{
			"type": "",
			"content": "",
			"params": {}
		}
	]
}
```


## getHistoryMessages


**接口地址**:`/api/session/{sessionId}/messages`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|sessionId||path|true|string||
|current||query|false|integer(int64)||
|size||query|false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultIPageMessageVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||IPageMessageVO|IPageMessageVO|
|&emsp;&emsp;size||integer(int64)||
|&emsp;&emsp;current||integer(int64)||
|&emsp;&emsp;records||array|MessageVO|
|&emsp;&emsp;&emsp;&emsp;type|可用值:USER,ASSISTANT|string||
|&emsp;&emsp;&emsp;&emsp;content||string||
|&emsp;&emsp;&emsp;&emsp;params||object||
|&emsp;&emsp;total||integer(int64)||
|&emsp;&emsp;pages||integer(int64)||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"size": 0,
		"current": 0,
		"records": [
			{
				"type": "",
				"content": "",
				"params": {}
			}
		],
		"total": 0,
		"pages": 0
	}
}
```


## getAllHistoryMessages


**接口地址**:`/api/session/{sessionId}/messages/all`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|sessionId||path|true|string||
|limit||query|false|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultListMessageVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||array|MessageVO|
|&emsp;&emsp;type|可用值:USER,ASSISTANT|string||
|&emsp;&emsp;content||string||
|&emsp;&emsp;params||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": [
		{
			"type": "",
			"content": "",
			"params": {}
		}
	]
}
```


## history


**接口地址**:`/api/session/history`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|current||query|false|integer(int64)||
|size||query|false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultIPageChatSessionHistoryVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||IPageChatSessionHistoryVO|IPageChatSessionHistoryVO|
|&emsp;&emsp;size||integer(int64)||
|&emsp;&emsp;current||integer(int64)||
|&emsp;&emsp;records||array|ChatSessionHistoryVO|
|&emsp;&emsp;&emsp;&emsp;sessionId||string||
|&emsp;&emsp;&emsp;&emsp;title||string||
|&emsp;&emsp;&emsp;&emsp;createTime||string||
|&emsp;&emsp;&emsp;&emsp;updateTime||string||
|&emsp;&emsp;total||integer(int64)||
|&emsp;&emsp;pages||integer(int64)||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"size": 0,
		"current": 0,
		"records": [
			{
				"sessionId": "",
				"title": "",
				"createTime": "",
				"updateTime": ""
			}
		],
		"total": 0,
		"pages": 0
	}
}
```


# 操作记录管理


## 创建操作记录


**接口地址**:`/api/operation-records`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:<p>创建一条新的操作记录</p>



**请求示例**:


```javascript
{
  "operationType": "",
  "status": "",
  "resourceType": "",
  "resourceId": "",
  "isDesensitized": true
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|operationRecordCreateDTO|操作记录创建DTO|body|true|OperationRecordCreateDTO|OperationRecordCreateDTO|
|&emsp;&emsp;operationType|操作类型（如：PRINT、MODEL_GENERATE、SLICE等）||true|string||
|&emsp;&emsp;status|状态（如：SUCCESS、FAILED、PROCESSING等）||true|string||
|&emsp;&emsp;resourceType|资源类型（如：MODEL、PRINT、FILE等）||false|string||
|&emsp;&emsp;resourceId|资源ID（如：模型ID、文件ID等）||false|string||
|&emsp;&emsp;isDesensitized|是否已脱敏||false|boolean||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultOperationRecords对象|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||OperationRecords对象|OperationRecords对象|
|&emsp;&emsp;recordId|记录ID|string||
|&emsp;&emsp;userId|用户ID|string||
|&emsp;&emsp;operationType|操作类型|string||
|&emsp;&emsp;operationTime|操作时间|string(date-time)||
|&emsp;&emsp;status|状态|string||
|&emsp;&emsp;resourceType|资源类型|string||
|&emsp;&emsp;resourceId|资源ID|string||
|&emsp;&emsp;isDesensitized|是否已脱敏|boolean||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"recordId": "",
		"userId": "",
		"operationType": "",
		"operationTime": "",
		"status": "",
		"resourceType": "",
		"resourceId": "",
		"isDesensitized": true
	}
}
```


## 获取打印记录


**接口地址**:`/api/operation-records/print`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>分页获取当前用户的打印记录</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|current||query|false|integer(int64)||
|size||query|false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultIPageOperationRecords对象|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||IPageOperationRecords对象|IPageOperationRecords对象|
|&emsp;&emsp;size||integer(int64)||
|&emsp;&emsp;current||integer(int64)||
|&emsp;&emsp;records|操作记录实体|array|OperationRecords对象|
|&emsp;&emsp;&emsp;&emsp;recordId|记录ID|string||
|&emsp;&emsp;&emsp;&emsp;userId|用户ID|string||
|&emsp;&emsp;&emsp;&emsp;operationType|操作类型|string||
|&emsp;&emsp;&emsp;&emsp;operationTime|操作时间|string||
|&emsp;&emsp;&emsp;&emsp;status|状态|string||
|&emsp;&emsp;&emsp;&emsp;resourceType|资源类型|string||
|&emsp;&emsp;&emsp;&emsp;resourceId|资源ID|string||
|&emsp;&emsp;&emsp;&emsp;isDesensitized|是否已脱敏|boolean||
|&emsp;&emsp;total||integer(int64)||
|&emsp;&emsp;pages||integer(int64)||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"size": 0,
		"current": 0,
		"records": [
			{
				"recordId": "",
				"userId": "",
				"operationType": "",
				"operationTime": "",
				"status": "",
				"resourceType": "",
				"resourceId": "",
				"isDesensitized": true
			}
		],
		"total": 0,
		"pages": 0
	}
}
```


## 获取模型生成记录


**接口地址**:`/api/operation-records/model`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>分页获取当前用户的模型生成记录</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|current||query|false|integer(int64)||
|size||query|false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultIPageOperationRecords对象|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||IPageOperationRecords对象|IPageOperationRecords对象|
|&emsp;&emsp;size||integer(int64)||
|&emsp;&emsp;current||integer(int64)||
|&emsp;&emsp;records|操作记录实体|array|OperationRecords对象|
|&emsp;&emsp;&emsp;&emsp;recordId|记录ID|string||
|&emsp;&emsp;&emsp;&emsp;userId|用户ID|string||
|&emsp;&emsp;&emsp;&emsp;operationType|操作类型|string||
|&emsp;&emsp;&emsp;&emsp;operationTime|操作时间|string||
|&emsp;&emsp;&emsp;&emsp;status|状态|string||
|&emsp;&emsp;&emsp;&emsp;resourceType|资源类型|string||
|&emsp;&emsp;&emsp;&emsp;resourceId|资源ID|string||
|&emsp;&emsp;&emsp;&emsp;isDesensitized|是否已脱敏|boolean||
|&emsp;&emsp;total||integer(int64)||
|&emsp;&emsp;pages||integer(int64)||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"size": 0,
		"current": 0,
		"records": [
			{
				"recordId": "",
				"userId": "",
				"operationType": "",
				"operationTime": "",
				"status": "",
				"resourceType": "",
				"resourceId": "",
				"isDesensitized": true
			}
		],
		"total": 0,
		"pages": 0
	}
}
```


# 模型管理


## add_1


**接口地址**:`/api/models/add`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "name": "",
  "category": "",
  "previewUrl": "",
  "downloadUrl": "",
  "description": "",
  "userId": "",
  "editableStatus": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|models对象|Models对象|body|true|Models对象|Models对象|
|&emsp;&emsp;name|||false|string||
|&emsp;&emsp;category|||false|string||
|&emsp;&emsp;previewUrl|||false|string||
|&emsp;&emsp;downloadUrl|||false|string||
|&emsp;&emsp;description|||false|string||
|&emsp;&emsp;userId|||false|string||
|&emsp;&emsp;editableStatus|||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultVoid|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## getModelInfo


**接口地址**:`/api/models/{id}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id||path|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultModelsInfoVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||ModelsInfoVO|ModelsInfoVO|
|&emsp;&emsp;name||string||
|&emsp;&emsp;uploadTime||string(date-time)||
|&emsp;&emsp;category||string||
|&emsp;&emsp;editableStatus||string||
|&emsp;&emsp;downloadUrl||string||
|&emsp;&emsp;previewUrl||string||
|&emsp;&emsp;description||string||
|&emsp;&emsp;supportedDev|支持的设备，多个设备用逗号分隔（如：打印机A,打印机B）|string||
|&emsp;&emsp;modelParam|模型参数（JSON格式）|string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"name": "",
		"uploadTime": "",
		"category": "",
		"editableStatus": "",
		"downloadUrl": "",
		"previewUrl": "",
		"description": "",
		"supportedDev": "",
		"modelParam": ""
	}
}
```


## page


**接口地址**:`/api/models/page`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|current||query|false|integer(int64)||
|size||query|false|integer(int64)||
|name||query|false|string||
|category||query|false|string||
|sort||query|false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultIPageModelsListVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||IPageModelsListVO|IPageModelsListVO|
|&emsp;&emsp;size||integer(int64)||
|&emsp;&emsp;current||integer(int64)||
|&emsp;&emsp;records||array|ModelsListVO|
|&emsp;&emsp;&emsp;&emsp;modelId||string||
|&emsp;&emsp;&emsp;&emsp;name||string||
|&emsp;&emsp;&emsp;&emsp;uploadTime||string||
|&emsp;&emsp;&emsp;&emsp;status||string||
|&emsp;&emsp;&emsp;&emsp;category||string||
|&emsp;&emsp;&emsp;&emsp;description||string||
|&emsp;&emsp;&emsp;&emsp;previewUrl||string||
|&emsp;&emsp;&emsp;&emsp;userId||string||
|&emsp;&emsp;&emsp;&emsp;collectCount|收藏数|integer||
|&emsp;&emsp;&emsp;&emsp;viewCount|查看数|integer||
|&emsp;&emsp;total||integer(int64)||
|&emsp;&emsp;pages||integer(int64)||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"size": 0,
		"current": 0,
		"records": [
			{
				"modelId": "",
				"name": "",
				"uploadTime": "",
				"status": "",
				"category": "",
				"description": "",
				"previewUrl": "",
				"userId": "",
				"collectCount": 0,
				"viewCount": 0
			}
		],
		"total": 0,
		"pages": 0
	}
}
```


## myModels


**接口地址**:`/api/models/my`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|current||query|false|integer(int64)||
|size||query|false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultIPageModelsListVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||IPageModelsListVO|IPageModelsListVO|
|&emsp;&emsp;size||integer(int64)||
|&emsp;&emsp;current||integer(int64)||
|&emsp;&emsp;records||array|ModelsListVO|
|&emsp;&emsp;&emsp;&emsp;modelId||string||
|&emsp;&emsp;&emsp;&emsp;name||string||
|&emsp;&emsp;&emsp;&emsp;uploadTime||string||
|&emsp;&emsp;&emsp;&emsp;status||string||
|&emsp;&emsp;&emsp;&emsp;category||string||
|&emsp;&emsp;&emsp;&emsp;description||string||
|&emsp;&emsp;&emsp;&emsp;previewUrl||string||
|&emsp;&emsp;&emsp;&emsp;userId||string||
|&emsp;&emsp;&emsp;&emsp;collectCount|收藏数|integer||
|&emsp;&emsp;&emsp;&emsp;viewCount|查看数|integer||
|&emsp;&emsp;total||integer(int64)||
|&emsp;&emsp;pages||integer(int64)||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"size": 0,
		"current": 0,
		"records": [
			{
				"modelId": "",
				"name": "",
				"uploadTime": "",
				"status": "",
				"category": "",
				"description": "",
				"previewUrl": "",
				"userId": "",
				"collectCount": 0,
				"viewCount": 0
			}
		],
		"total": 0,
		"pages": 0
	}
}
```


# iot-controller


## sendStopCommand


**接口地址**:`/api/iot/sendStopCommand/{deviceId}`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|deviceId||path|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": ""
}
```


## sendPrintCommand


**接口地址**:`/api/iot/sendPrintCommand`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "deviceId": "",
  "modelId": "",
  "action": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|printCommandDTO|PrintCommandDTO|body|true|PrintCommandDTO|PrintCommandDTO|
|&emsp;&emsp;deviceId|||false|string||
|&emsp;&emsp;modelId|||false|string||
|&emsp;&emsp;action|||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": ""
}
```


## updateFirmwareStatus


**接口地址**:`/api/iot/firmware/updateStatus`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|deviceId||query|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": ""
}
```


## checkFirmware


**接口地址**:`/api/iot/firmware/checkVersion`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "deviceId": "003322334455",
  "currentFirmwareVersion": {
    "esp32s3": "1.0.1",
    "stm32f4": "1.0.1"
  }
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|firmwareCheckRequestDTO|固件版本检查请求参数|body|true|FirmwareCheckRequestDTO|FirmwareCheckRequestDTO|
|&emsp;&emsp;deviceId|设备ID（MAC地址）||true|string||
|&emsp;&emsp;currentFirmwareVersion|设备当前固件版本信息||true|FirmwareVersionDTO|FirmwareVersionDTO|
|&emsp;&emsp;&emsp;&emsp;esp32s3|ESP32S3 固件版本||false|string||
|&emsp;&emsp;&emsp;&emsp;stm32f4|STM32F4 固件版本||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultFirmwareCheckResultVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||FirmwareCheckResultVO|FirmwareCheckResultVO|
|&emsp;&emsp;esp32s3|固件组件版本信息|FirmwareComponentVO|FirmwareComponentVO|
|&emsp;&emsp;&emsp;&emsp;firmwareVersion|固件版本|string||
|&emsp;&emsp;&emsp;&emsp;firmwareUrl|固件下载URL|string||
|&emsp;&emsp;&emsp;&emsp;forceUpgrade|是否强制升级 (0: 否, 1: 是)|integer||
|&emsp;&emsp;stm32f4|固件组件版本信息|FirmwareComponentVO|FirmwareComponentVO|
|&emsp;&emsp;&emsp;&emsp;firmwareVersion|固件版本|string||
|&emsp;&emsp;&emsp;&emsp;firmwareUrl|固件下载URL|string||
|&emsp;&emsp;&emsp;&emsp;forceUpgrade|是否强制升级 (0: 否, 1: 是)|integer||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"esp32s3": {
			"firmwareVersion": "",
			"firmwareUrl": "",
			"forceUpgrade": 0
		},
		"stm32f4": {
			"firmwareVersion": "",
			"firmwareUrl": "",
			"forceUpgrade": 0
		}
	}
}
```


## verifyCredential


**接口地址**:`/api/iot/auth/verify`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "deviceId": "",
  "username": "",
  "password": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|deviceCredentialVerifyDTO|设备凭证校验请求|body|true|DeviceCredentialVerifyDTO|DeviceCredentialVerifyDTO|
|&emsp;&emsp;deviceId|设备ID（MAC地址）||true|string||
|&emsp;&emsp;username|一次性用户名||true|string||
|&emsp;&emsp;password|一次性密码||true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultBoolean|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||boolean||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": true
}
```


## getStatus


**接口地址**:`/api/iot/getStatus`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|deviceId||query|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result设备状态信息|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||设备状态信息|设备状态信息|
|&emsp;&emsp;toolhead|工具头信息|工具头信息|工具头信息|
|&emsp;&emsp;&emsp;&emsp;position|打印头位置 [x坐标, y坐标, z坐标, 扩展坐标]|array|number|
|&emsp;&emsp;extruder|挤压机喷头信息|挤压机喷头信息|挤压机喷头信息|
|&emsp;&emsp;&emsp;&emsp;temperature|喷头温度（摄氏度）|number||
|&emsp;&emsp;virtualSdcard|Gcode文件信息|Gcode文件信息|Gcode文件信息|
|&emsp;&emsp;&emsp;&emsp;progress|当前文件进度（百分比，0.0-100.0）|number||
|&emsp;&emsp;&emsp;&emsp;filePosition|当前文件位置（以字节为单位）|integer||
|&emsp;&emsp;printStats|打印状态信息|打印状态信息|打印状态信息|
|&emsp;&emsp;&emsp;&emsp;totalDuration|打印总时间（秒）|number||
|&emsp;&emsp;&emsp;&emsp;printDuration|打印时长（秒）|number||
|&emsp;&emsp;&emsp;&emsp;filamentUsed|耗材使用量|number||
|&emsp;&emsp;&emsp;&emsp;state|打印状态（Initializing：固件初始化，StandingBy：等待，Error：固件灾难性报错，Downloading：GCode下载中，Printing：开始打印，Pausing：打印暂停，Aborting：打印取消，Loading：进料中，Unloading：退料中）|string||
|&emsp;&emsp;fan|风扇信息|风扇信息|风扇信息|
|&emsp;&emsp;&emsp;&emsp;speed|风扇速率百分比（0.0-100.0）|number||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"toolhead": {
			"position": "[134,123,10,0]"
		},
		"extruder": {
			"temperature": 35.32
		},
		"virtualSdcard": {
			"progress": 0,
			"filePosition": 0
		},
		"printStats": {
			"totalDuration": 0,
			"printDuration": 0,
			"filamentUsed": 0,
			"state": "Printing"
		},
		"fan": {
			"speed": 0
		}
	}
}
```


## auth


**接口地址**:`/api/iot/auth`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|deviceId||query|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result设备授权完返回信息|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||设备授权完返回信息|设备授权完返回信息|
|&emsp;&emsp;endpoint|服务终端路径|string||
|&emsp;&emsp;port|服务终端接口|string||
|&emsp;&emsp;productId|设备所属产品ID|string||
|&emsp;&emsp;deviceId|设备ID|string||
|&emsp;&emsp;clientId|设备clientID|string||
|&emsp;&emsp;username|用户名|string||
|&emsp;&emsp;password|密钥|string||
|&emsp;&emsp;status|设备状态|string||
|&emsp;&emsp;upTopic|上行topic（含设备唯一标识）|string||
|&emsp;&emsp;downTopic|下行topic（含设备唯一标识）|string||
|&emsp;&emsp;enableState|启用状态|integer(int32)||
|&emsp;&emsp;deviceSecret|设备长期密钥（仅首次注册返回，需妥善保存）|string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"endpoint": "tcp://broker.emqx.io",
		"port": "1883",
		"productId": "TQE8ODLAGN",
		"deviceId": "print3d_device01",
		"clientId": "TQE8ODLAGNprint3d_device01",
		"username": "TQE8ODLAGNprint3d_device01;12010126;rAaJx;1741656038",
		"password": "8273694cc47ef78baf1f429a863583aadfa1f0aa42fb9845f7b212e7060eaa7c;hmacsha256",
		"status": "设备状态\n0: 离线, \n1: 在线, \n2: 获取失败, \n3 未激活",
		"upTopic": "$thing/up/event/TQE8ODLAGN/print3d_device01",
		"downTopic": "$thing/down/event/TQE8ODLAGN/print3d_device01",
		"enableState": 0,
		"deviceSecret": ""
	}
}
```


# user-favorite-group-controller


## createGroup


**接口地址**:`/api/favorite-groups/create`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|groupName||query|true|string||
|sortOrder||query|false|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultLong|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||integer(int64)|integer(int64)|


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": 0
}
```


## listGroupModels


**接口地址**:`/api/favorite-groups/models`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|groupId||query|false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultListFavoriteModelVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||array|FavoriteModelVO|
|&emsp;&emsp;favoriteId|收藏记录ID|integer(int64)||
|&emsp;&emsp;modelId|模型ID|string||
|&emsp;&emsp;name|模型名称|string||
|&emsp;&emsp;category|分类|string||
|&emsp;&emsp;previewUrl|预览图地址|string||
|&emsp;&emsp;collectCount|收藏总数|integer(int32)||
|&emsp;&emsp;viewCount|查看次数|integer(int32)||
|&emsp;&emsp;uploadTime|模型上传时间|string(date-time)||
|&emsp;&emsp;favoriteTime|收藏时间|string(date-time)||
|&emsp;&emsp;groupId|所属收藏夹ID|integer(int64)||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": [
		{
			"favoriteId": 0,
			"modelId": "",
			"name": "",
			"category": "",
			"previewUrl": "",
			"collectCount": 0,
			"viewCount": 0,
			"uploadTime": "",
			"favoriteTime": "",
			"groupId": 0
		}
	]
}
```


## listGroups


**接口地址**:`/api/favorite-groups/list`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultListUserFavoriteGroupVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||array|UserFavoriteGroupVO|
|&emsp;&emsp;groupId|收藏夹ID|integer(int64)||
|&emsp;&emsp;groupName|收藏夹名称|string||
|&emsp;&emsp;sortOrder|排序号|integer(int32)||
|&emsp;&emsp;modelCount|收藏夹包含的模型数量|integer(int64)||
|&emsp;&emsp;createTime|创建时间|string(date-time)||
|&emsp;&emsp;updateTime|更新时间|string(date-time)||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": [
		{
			"groupId": 0,
			"groupName": "",
			"sortOrder": 0,
			"modelCount": 0,
			"createTime": "",
			"updateTime": ""
		}
	]
}
```


## deleteGroup


**接口地址**:`/api/favorite-groups/{groupId}`


**请求方式**:`DELETE`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|groupId||path|true|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": ""
}
```


# chat-controller


## chat


**接口地址**:`/api/chat`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`text/event-stream`


**接口描述**:


**请求示例**:


```javascript
{
  "question": "",
  "sessionId": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|chatDTO|ChatDTO|body|true|ChatDTO|ChatDTO|
|&emsp;&emsp;question|||false|string||
|&emsp;&emsp;sessionId|||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ChatEventVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|eventData||object||
|eventType||integer(int32)|integer(int32)|


**响应示例**:
```javascript
[
	{
		"eventData": {},
		"eventType": 0
	}
]
```


## chatWithVoice


**接口地址**:`/api/chat/voice`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`text/event-stream`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|sessionId||query|true|string||
|audio||query|true|file||
|format||query|false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ChatEventVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|eventData||object||
|eventType||integer(int32)|integer(int32)|


**响应示例**:
```javascript
[
	{
		"eventData": {},
		"eventType": 0
	}
]
```


## stop


**接口地址**:`/api/chat/stop`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|sessionId||query|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||


**响应参数**:


暂无


**响应示例**:
```javascript

```


# 语音转文字


## 批量转写


**接口地址**:`/api/audio/transcribe`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,multipart/form-data`


**响应数据类型**:`*/*`


**接口描述**:<p>上传音频文件，返回转写后的文本（支持大文件）</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|file||query|true|file||
|format||query|false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": ""
}
```


## 离线流式转写


**接口地址**:`/api/audio/realtime`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`text/event-stream`


**接口描述**:<p>上传音频文件后进行流式转写（支持小文件，10MB以内）。真正的实时转写请使用WebSocket接口：/ws/realtime-asr</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|file||query|true|file||
|format||query|false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||string||


**响应示例**:
```javascript
[
	{
		"code": 0,
		"msg": "",
		"data": ""
	}
]
```


## 离线转写


**接口地址**:`/api/audio/offline`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,multipart/form-data`


**响应数据类型**:`*/*`


**接口描述**:<p>上传音频文件到MinIO，然后进行转写（支持大文件）</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|file||query|true|file||
|format||query|false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": ""
}
```


# 认证管理


## googleCallback


**接口地址**:`/api/auth/oauth/callback/google`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|code||query|true|string||
|state||query|false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultUserLoginVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||UserLoginVO|UserLoginVO|
|&emsp;&emsp;userId||string||
|&emsp;&emsp;username||string||
|&emsp;&emsp;avatarUrl||string||
|&emsp;&emsp;accountStatus||integer(int32)||
|&emsp;&emsp;token||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"userId": "",
		"username": "",
		"avatarUrl": "",
		"accountStatus": 0,
		"token": ""
	}
}
```


## getGoogleOAuthConfig


**接口地址**:`/api/auth/google/config`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultGoogleOAuthConfigVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||GoogleOAuthConfigVO|GoogleOAuthConfigVO|
|&emsp;&emsp;clientId||string||
|&emsp;&emsp;redirectUri||string||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {
		"clientId": "",
		"redirectUri": ""
	}
}
```